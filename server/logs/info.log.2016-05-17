[32m[I 160519 10:15:35 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/configs/game_config/arena_mail_award_cfg.py modified; restarting server
[32m[I 160519 10:19:12 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[32m[I 160519 10:19:18 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[32m[I 160519 10:19:21 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[32m[I 160519 10:19:25 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[33m[W 160519 10:20:23 web:1495](B[m 404 POST /platform/Express (127.0.0.1): not found
[31m[E 160519 10:26:54 web:1498](B[m Uncaught exception POST /game/api (127.0.0.1)
    HttpRequest(protocol='http', host='127.0.0.1:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Content-Length': '21', 'Cookie': 'user_cookie_chain="2|1:0|10:1463624611|17:user_cookie_chain|132:YWlkPTA1MTkxMDIwMjg3MDYmdWlkPTExMDAwMDAwMiZwZj1ERVYmc2lkPTEmdHM9MTQ2MzYyNDYxMSZ0b2tlbj00M2Y3NmJhMDQ0MTYxZTM3MTcyZDQ3ZWJiZDM0MWJiNA==|901e352f432454d0a0d1fd298092a9f73de864422b86debf656273983672f57f"; expires=Sat, 18 Jun 2016 02:23:31 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Host': '127.0.0.1:8000', 'Accept': 'text/plain'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 117, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 99, in process
        func = self._get_handler(api_method)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 163, in _get_handler
        func = import_by_name(self._logic_package + "." + api_method)
      File "/Users/jiank/work/kimech/server/libs/rklib/utils/importlib.py", line 7, in import_by_name
        module = __import__(module_name, globals(), locals(), [obj_name])
      File "/Users/jiank/work/kimech/server/apps/logics/worldboss.py", line 17, in <module>
        from apps.services.worldboss import BossService
      File "/Users/jiank/work/kimech/server/apps/services/worldboss.py", line 59
        common_helper.time_to_refresh(data["update"], 9):
                                                        ^
    SyntaxError: invalid syntax
[31m[E 160519 10:27:58 web:1498](B[m Uncaught exception POST /game/api (127.0.0.1)
    HttpRequest(protocol='http', host='127.0.0.1:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Content-Length': '21', 'Cookie': 'user_cookie_chain="2|1:0|10:1463624611|17:user_cookie_chain|132:YWlkPTA1MTkxMDIwMjg3MDYmdWlkPTExMDAwMDAwMiZwZj1ERVYmc2lkPTEmdHM9MTQ2MzYyNDYxMSZ0b2tlbj00M2Y3NmJhMDQ0MTYxZTM3MTcyZDQ3ZWJiZDM0MWJiNA==|901e352f432454d0a0d1fd298092a9f73de864422b86debf656273983672f57f"; expires=Sat, 18 Jun 2016 02:23:31 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Host': '127.0.0.1:8000', 'Accept': 'text/plain'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 117, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 113, in process
        func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/worldboss.py", line 39, in info
        data["info"] = BossService.get(ki_user.sid)
      File "/Users/jiank/work/kimech/server/apps/services/worldboss.py", line 56, in get
        cls.initial(ki_user.sid)
    NameError: global name 'ki_user' is not defined
[32m[I 160519 10:28:07 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/worldboss.py modified; restarting server
[31m[E 160519 10:28:09 web:1498](B[m Uncaught exception POST /game/api (127.0.0.1)
    HttpRequest(protocol='http', host='127.0.0.1:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Content-Length': '21', 'Cookie': 'user_cookie_chain="2|1:0|10:1463624611|17:user_cookie_chain|132:YWlkPTA1MTkxMDIwMjg3MDYmdWlkPTExMDAwMDAwMiZwZj1ERVYmc2lkPTEmdHM9MTQ2MzYyNDYxMSZ0b2tlbj00M2Y3NmJhMDQ0MTYxZTM3MTcyZDQ3ZWJiZDM0MWJiNA==|901e352f432454d0a0d1fd298092a9f73de864422b86debf656273983672f57f"; expires=Sat, 18 Jun 2016 02:23:31 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Host': '127.0.0.1:8000', 'Accept': 'text/plain'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 117, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 113, in process
        func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/worldboss.py", line 39, in info
        data["info"] = BossService.get(ki_user.sid)
      File "/Users/jiank/work/kimech/server/apps/services/worldboss.py", line 64, in get
        data["name"] = pickle.loads(data["name"])
    EOFError
[32m[I 160519 10:29:32 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/worldboss.py modified; restarting server
[31m[E 160519 10:30:19 web:1498](B[m Uncaught exception POST /game/api (127.0.0.1)
    HttpRequest(protocol='http', host='127.0.0.1:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Content-Length': '21', 'Cookie': 'user_cookie_chain="2|1:0|10:1463624611|17:user_cookie_chain|132:YWlkPTA1MTkxMDIwMjg3MDYmdWlkPTExMDAwMDAwMiZwZj1ERVYmc2lkPTEmdHM9MTQ2MzYyNDYxMSZ0b2tlbj00M2Y3NmJhMDQ0MTYxZTM3MTcyZDQ3ZWJiZDM0MWJiNA==|901e352f432454d0a0d1fd298092a9f73de864422b86debf656273983672f57f"; expires=Sat, 18 Jun 2016 02:23:31 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Host': '127.0.0.1:8000', 'Accept': 'text/plain'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 117, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 113, in process
        func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/worldboss.py", line 39, in info
        data["info"] = BossService.get(ki_user.sid)
      File "/Users/jiank/work/kimech/server/apps/services/worldboss.py", line 65, in get
        data["left_hp"] = data["hp"] - data["lose_hp"]
    TypeError: unsupported operand type(s) for -: 'str' and 'str'
[32m[I 160519 10:30:52 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/worldboss.py modified; restarting server
[31m[E 160519 10:31:37 web:1498](B[m Uncaught exception POST /game/api (127.0.0.1)
    HttpRequest(protocol='http', host='127.0.0.1:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Content-Length': '21', 'Cookie': 'user_cookie_chain="2|1:0|10:1463624611|17:user_cookie_chain|132:YWlkPTA1MTkxMDIwMjg3MDYmdWlkPTExMDAwMDAwMiZwZj1ERVYmc2lkPTEmdHM9MTQ2MzYyNDYxMSZ0b2tlbj00M2Y3NmJhMDQ0MTYxZTM3MTcyZDQ3ZWJiZDM0MWJiNA==|901e352f432454d0a0d1fd298092a9f73de864422b86debf656273983672f57f"; expires=Sat, 18 Jun 2016 02:23:31 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Host': '127.0.0.1:8000', 'Accept': 'text/plain'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 117, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 113, in process
        func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/worldboss.py", line 39, in info
        data["info"] = BossService.get(ki_user.sid)
      File "/Users/jiank/work/kimech/server/apps/services/worldboss.py", line 58, in get
        elif common_helper.time_to_refresh(data["update"], 9):
    NameError: global name 'common_helper' is not defined
[32m[I 160519 10:32:29 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/worldboss.py modified; restarting server
[32m[I 160519 10:33:44 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/worldboss.py modified; restarting server
[31m[E 160519 10:35:37 web:1498](B[m Uncaught exception POST /game/api (127.0.0.1)
    HttpRequest(protocol='http', host='127.0.0.1:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Content-Length': '21', 'Cookie': 'user_cookie_chain="2|1:0|10:1463624611|17:user_cookie_chain|132:YWlkPTA1MTkxMDIwMjg3MDYmdWlkPTExMDAwMDAwMiZwZj1ERVYmc2lkPTEmdHM9MTQ2MzYyNDYxMSZ0b2tlbj00M2Y3NmJhMDQ0MTYxZTM3MTcyZDQ3ZWJiZDM0MWJiNA==|901e352f432454d0a0d1fd298092a9f73de864422b86debf656273983672f57f"; expires=Sat, 18 Jun 2016 02:23:31 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Host': '127.0.0.1:8000', 'Accept': 'text/plain'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 117, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 113, in process
        func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/worldboss.py", line 39, in info
        data["info"] = BossService.get(ki_user.sid)
      File "/Users/jiank/work/kimech/server/apps/services/worldboss.py", line 72, in get
        data[key] = int(value)
    ValueError: invalid literal for int() with base 10: ''
[32m[I 160519 10:35:49 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/worldboss.py modified; restarting server
[31m[E 160519 10:35:51 web:1498](B[m Uncaught exception POST /game/api (127.0.0.1)
    HttpRequest(protocol='http', host='127.0.0.1:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Content-Length': '21', 'Cookie': 'user_cookie_chain="2|1:0|10:1463624611|17:user_cookie_chain|132:YWlkPTA1MTkxMDIwMjg3MDYmdWlkPTExMDAwMDAwMiZwZj1ERVYmc2lkPTEmdHM9MTQ2MzYyNDYxMSZ0b2tlbj00M2Y3NmJhMDQ0MTYxZTM3MTcyZDQ3ZWJiZDM0MWJiNA==|901e352f432454d0a0d1fd298092a9f73de864422b86debf656273983672f57f"; expires=Sat, 18 Jun 2016 02:23:31 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Host': '127.0.0.1:8000', 'Accept': 'text/plain'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 117, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 113, in process
        func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/worldboss.py", line 39, in info
        data["info"] = BossService.get(ki_user.sid)
      File "/Users/jiank/work/kimech/server/apps/services/worldboss.py", line 73, in get
        data[key] = int(value)
    ValueError: invalid literal for int() with base 10: ''
[32m[I 160519 10:35:57 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/worldboss.py modified; restarting server
[32m[I 160519 10:36:25 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/worldboss.py modified; restarting server
[32m[I 160519 10:36:49 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/worldboss.py modified; restarting server
[32m[I 160519 10:39:37 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/worldboss.py modified; restarting server
[31m[E 160519 10:39:51 web:1498](B[m Uncaught exception POST /game/api (127.0.0.1)
    HttpRequest(protocol='http', host='127.0.0.1:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Content-Length': '44', 'Cookie': 'user_cookie_chain="2|1:0|10:1463624611|17:user_cookie_chain|132:YWlkPTA1MTkxMDIwMjg3MDYmdWlkPTExMDAwMDAwMiZwZj1ERVYmc2lkPTEmdHM9MTQ2MzYyNDYxMSZ0b2tlbj00M2Y3NmJhMDQ0MTYxZTM3MTcyZDQ3ZWJiZDM0MWJiNA==|901e352f432454d0a0d1fd298092a9f73de864422b86debf656273983672f57f"; expires=Sat, 18 Jun 2016 02:23:31 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Host': '127.0.0.1:8000', 'Accept': 'text/plain'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 117, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 113, in process
        func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/worldboss.py", line 62, in rank
        data["rank_data"] = BossService.rank(rtype, ki_user.sid, start, end)
      File "/Users/jiank/work/kimech/server/apps/services/worldboss.py", line 181, in rank
        return redis_client.lrange(cache_rank_name, start-1, stop-1)
    NameError: global name 'stop' is not defined
[32m[I 160519 10:40:15 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/worldboss.py modified; restarting server
[32m[I 160519 10:41:13 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/worldboss.py modified; restarting server
[32m[I 160519 10:41:37 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/worldboss.py modified; restarting server
[32m[I 160519 10:41:53 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/worldboss.py modified; restarting server
[32m[I 160519 10:42:21 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/worldboss.py modified; restarting server
[32m[I 160519 10:42:43 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/worldboss.py modified; restarting server
[32m[I 160519 10:42:48 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/worldboss.py modified; restarting server
[32m[I 160519 11:13:07 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/common_helper.py modified; restarting server
[32m[I 160519 11:13:16 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/common_helper.py modified; restarting server
[32m[I 160519 11:15:33 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/common_helper.py modified; restarting server
[32m[I 160519 11:44:18 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/worldboss.py modified; restarting server
[32m[I 160519 11:44:32 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/worldboss.py modified; restarting server
[32m[I 160519 11:45:03 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/worldboss.py modified; restarting server
[32m[I 160519 11:45:52 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/worldboss.py modified; restarting server
[32m[I 160519 11:46:35 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/worldboss.py modified; restarting server
[32m[I 160519 11:48:11 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/worldboss.py modified; restarting server
[31m[E 160519 11:49:12 web:1498](B[m Uncaught exception POST /game/api (127.0.0.1)
    HttpRequest(protocol='http', host='127.0.0.1:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Content-Length': '31', 'Cookie': 'user_cookie_chain="2|1:0|10:1463624611|17:user_cookie_chain|132:YWlkPTA1MTkxMDIwMjg3MDYmdWlkPTExMDAwMDAwMiZwZj1ERVYmc2lkPTEmdHM9MTQ2MzYyNDYxMSZ0b2tlbj00M2Y3NmJhMDQ0MTYxZTM3MTcyZDQ3ZWJiZDM0MWJiNA==|901e352f432454d0a0d1fd298092a9f73de864422b86debf656273983672f57f"; expires=Sat, 18 Jun 2016 02:23:31 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Host': '127.0.0.1:8000', 'Accept': 'text/plain'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 117, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 113, in process
        func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/worldboss.py", line 108, in fight
        BossService.fight(ki_user.sid, dmg, uid)
    NameError: global name 'uid' is not defined
[32m[I 160519 11:49:40 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/worldboss.py modified; restarting server
[31m[E 160519 11:49:48 web:1498](B[m Uncaught exception POST /game/api (127.0.0.1)
    HttpRequest(protocol='http', host='127.0.0.1:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Content-Length': '31', 'Cookie': 'user_cookie_chain="2|1:0|10:1463624611|17:user_cookie_chain|132:YWlkPTA1MTkxMDIwMjg3MDYmdWlkPTExMDAwMDAwMiZwZj1ERVYmc2lkPTEmdHM9MTQ2MzYyNDYxMSZ0b2tlbj00M2Y3NmJhMDQ0MTYxZTM3MTcyZDQ3ZWJiZDM0MWJiNA==|901e352f432454d0a0d1fd298092a9f73de864422b86debf656273983672f57f"; expires=Sat, 18 Jun 2016 02:23:31 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Host': '127.0.0.1:8000', 'Accept': 'text/plain'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 117, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 113, in process
        func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/worldboss.py", line 108, in fight
        award_index = max([i for i in game_config.boss_award_cfg.keys() if i <= dmg])
    AttributeError: 'module' object has no attribute 'boss_award_cfg'
[32m[I 160519 11:50:13 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/worldboss.py modified; restarting server
[32m[I 160519 11:52:17 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/worldboss.py modified; restarting server
[32m[I 160519 11:52:50 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/worldboss.py modified; restarting server
[32m[I 160519 11:53:00 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/worldboss.py modified; restarting server
[32m[I 160519 11:55:15 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/worldboss.py modified; restarting server
[32m[I 160519 11:58:28 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/worldboss.py modified; restarting server
[32m[I 160519 12:30:48 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/worldboss.py modified; restarting server
[31m[E 160519 12:30:49 web:1498](B[m Uncaught exception POST /game/api (127.0.0.1)
    HttpRequest(protocol='http', host='127.0.0.1:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Content-Length': '38', 'Cookie': 'user_cookie_chain="2|1:0|10:1463624611|17:user_cookie_chain|132:YWlkPTA1MTkxMDIwMjg3MDYmdWlkPTExMDAwMDAwMiZwZj1ERVYmc2lkPTEmdHM9MTQ2MzYyNDYxMSZ0b2tlbj00M2Y3NmJhMDQ0MTYxZTM3MTcyZDQ3ZWJiZDM0MWJiNA==|901e352f432454d0a0d1fd298092a9f73de864422b86debf656273983672f57f"; expires=Sat, 18 Jun 2016 02:23:31 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Host': '127.0.0.1:8000', 'Accept': 'text/plain'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 117, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 113, in process
        func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/worldboss.py", line 193, in support
        result = BossService.support(ki_user.sid, uid, ki_user.uid)
      File "/Users/jiank/work/kimech/server/apps/services/worldboss.py", line 270, in support
        raise e
    NameError: global name 'log_key' is not defined
[32m[I 160519 12:30:57 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/worldboss.py modified; restarting server
[32m[I 160519 12:31:48 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/worldboss.py modified; restarting server
[32m[I 160521 10:38:42 autoreload:204](B[m /Users/jiank/work/kimech/server/torngas/middleware/accesslog.py modified; restarting server
[32m[I 160521 10:38:47 autoreload:204](B[m /Users/jiank/work/kimech/server/torngas/middleware/accesslog.py modified; restarting server
[32m[I 160521 10:39:16 autoreload:204](B[m /Users/jiank/work/kimech/server/settings/local.py modified; restarting server
[32m[I 160521 10:39:57 autoreload:204](B[m /Users/jiank/work/kimech/server/settings/local.py modified; restarting server
[32m[I 160521 10:40:26 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/handlers/platform.py modified; restarting server
[32m[I 160521 10:40:30 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/handlers/platform.py modified; restarting server
[32m[I 160521 10:40:45 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[32m[I 160521 10:41:16 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/handlers/game.py modified; restarting server
[32m[I 160521 10:42:30 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/handlers/platform.py modified; restarting server
[32m[I 160521 10:43:58 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/handlers/game.py modified; restarting server
[33m[W 160521 10:47:49 web:1495](B[m 404 GET /server/info/1 (127.0.0.1): not found
[33m[W 160521 10:47:54 web:1495](B[m 404 GET /server/info/1 (127.0.0.1): not found
[32m[I 160521 11:08:28 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/handlers/game.py modified; restarting server
[32m[I 160521 12:23:21 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/system.py modified; restarting server
[32m[I 160521 12:24:35 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/system.py modified; restarting server
[32m[I 160521 12:24:56 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 12:25:43 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 12:26:30 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 12:35:13 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 12:37:54 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[32m[I 160521 12:40:30 autoreload:204](B[m /Users/jiank/work/kimech/server/torngas/middleware/accesslog.py modified; restarting server
[32m[I 160521 12:41:58 autoreload:204](B[m /Users/jiank/work/kimech/server/libs/rklib/web/logic.py modified; restarting server
[32m[I 160521 12:42:33 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 12:43:53 autoreload:204](B[m /Users/jiank/work/kimech/server/settings/base.py modified; restarting server
[32m[I 160521 12:49:08 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/user.py modified; restarting server
[31m[E 160521 12:49:13 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '23', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py", line 72, in process_request
        ki_user = User.install(authed_cookie_data)
    TypeError: unbound method _wrapper() must be called with User instance as first argument (got dict instance instead)
[32m[I 160521 12:49:30 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/user.py modified; restarting server
[32m[I 160521 12:53:11 autoreload:204](B[m /Users/jiank/work/kimech/server/settings/base.py modified; restarting server
[32m[I 160521 12:57:32 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/misc/global_info.py modified; restarting server
[32m[I 160521 12:58:49 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/misc/global_info.py modified; restarting server
[32m[I 160521 13:00:23 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/misc/global_info.py modified; restarting server
[32m[I 160521 13:01:00 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/misc/global_info.py modified; restarting server
[32m[I 160521 13:01:53 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/misc/auth_utils.py modified; restarting server
[32m[I 160521 13:02:58 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[32m[I 160521 13:03:33 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[31m[E 160521 13:03:35 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[32m[I 160521 13:03:39 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[32m[I 160521 13:03:58 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[32m[I 160521 13:04:16 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[32m[I 160521 13:05:15 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[31m[E 160521 13:05:18 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py", line 29, in process_request
        ki_user = User.install(authed_cookie_data)
    NameError: global name 'authed_cookie_data' is not defined
[32m[I 160521 13:05:35 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[32m[I 160521 13:05:58 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[31m[E 160521 13:06:00 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[32m[I 160521 13:06:11 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[31m[E 160521 13:06:12 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:06:15 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[32m[I 160521 13:06:22 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[31m[E 160521 13:06:23 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[32m[I 160521 13:07:35 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[31m[E 160521 13:07:39 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:07:52 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:07:53 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:07:54 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[32m[I 160521 13:08:11 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[31m[E 160521 13:08:14 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:09:13 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[32m[I 160521 13:09:24 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[31m[E 160521 13:09:26 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:09:32 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:09:32 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:09:33 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[32m[I 160521 13:09:35 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[31m[E 160521 13:09:37 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:09:38 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:09:39 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:09:40 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:09:41 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:09:41 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[32m[I 160521 13:10:42 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[31m[E 160521 13:10:44 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py", line 29, in process_request
        authed_cookie_data = auth_cookie(cookie_data)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py", line 121, in auth_cookie
        built_signature = get_rkauth_signature(aid, uid, pf, int(sid), int(ts))
    NameError: global name 'get_rkauth_signature' is not defined
[32m[I 160521 13:11:12 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[31m[E 160521 13:11:14 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py", line 29, in process_request
        authed_cookie_data = auth_cookie(cookie_data)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py", line 121, in auth_cookie
        built_signature = get_rkauth_signature(aid, uid, pf, int(sid), int(ts))
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py", line 141, in get_rkauth_signature
        return build_auth_signature(kiauth_fields)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py", line 147, in build_auth_signature
        return hashlib.md5(payload).hexdigest()
    NameError: global name 'hashlib' is not defined
[32m[I 160521 13:11:26 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[31m[E 160521 13:11:27 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:11:31 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:11:31 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:11:32 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:11:32 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[32m[I 160521 13:11:45 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[31m[E 160521 13:11:47 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:11:49 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:11:50 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[32m[I 160521 13:12:02 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[31m[E 160521 13:12:03 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:12:05 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:12:06 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:12:07 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[32m[I 160521 13:12:11 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[31m[E 160521 13:12:13 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:12:15 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:12:16 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:12:17 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:12:17 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:12:18 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[32m[I 160521 13:21:26 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[31m[E 160521 13:21:28 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[32m[I 160521 13:21:45 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[31m[E 160521 13:21:46 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[32m[I 160521 13:22:09 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[31m[E 160521 13:22:11 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:22:14 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:22:17 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:22:18 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:22:19 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:22:20 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:22:23 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:22:25 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:22:26 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:22:38 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:22:40 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:22:41 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:25:02 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:25:35 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:25:47 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '54', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:25:55 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:26:20 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:26:56 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:26:57 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:26:57 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:26:57 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:26:57 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:26:58 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:26:58 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[31m[E 160521 13:27:00 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[32m[I 160521 13:27:30 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[31m[E 160521 13:27:38 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '53', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463800128|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgwMDEyOCZ0b2tlbj0zYTg1MWIwMzZmNDZlOWM2ZDdiOTE3YWQwYmRjYjgyYg==|dc1dd0758e746bc8c9765412191d03f543ebba3bea058098dbcee01d2693c46e"; expires=Mon, 20 Jun 2016 03:08:48 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1394, in _execute
        result = yield result
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 870, in run
        value = future.result()
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/concurrent.py", line 215, in result
        raise_exc_info(self._exc_info)
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/gen.py", line 230, in wrapper
        yielded = next(result)
      File "/Users/jiank/work/kimech/server/torngas/middleware/manager.py", line 146, in execute_next_for_async
        result = method(process_object, clear, *args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/common/middlewares/userfunc.py", line 54, in process_request
        if open_level > context.user.game_info.role_level:
    AttributeError: 'NoneType' object has no attribute 'game_info'
[32m[I 160521 13:28:00 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/common/middlewares/kiauth.py modified; restarting server
[32m[I 160521 13:28:35 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 13:28:57 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 13:31:49 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 13:36:22 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 13:39:54 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/mission.py modified; restarting server
[32m[I 160521 13:40:37 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 14:33:35 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 14:47:30 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 14:51:08 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 14:51:41 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/hero_helper.py modified; restarting server
[32m[I 160521 14:52:25 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/hero_helper.py modified; restarting server
[32m[I 160521 14:52:35 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/hero_helper.py modified; restarting server
[32m[I 160521 14:52:52 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/hero_helper.py modified; restarting server
[32m[I 160521 14:53:15 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/hero_helper.py modified; restarting server
[32m[I 160521 14:53:40 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/hero_helper.py modified; restarting server
[32m[I 160521 14:53:43 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/hero_helper.py modified; restarting server
[32m[I 160521 14:54:14 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/hero_helper.py modified; restarting server
[32m[I 160521 14:54:27 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/hero_helper.py modified; restarting server
[31m[E 160521 15:04:56 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '23', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463814285|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgxNDI4NSZ0b2tlbj04MzgyZDNjNzk0ZjdhYTRhYmE1Mjc0OThkZGJhZTU3Zg==|94aafafd5675fb767e4469e647b91a224bcbc1fb3ac63c7680179ea9904abb61"; expires=Mon, 20 Jun 2016 07:04:45 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 128, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 125, in process
        post_func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/handlers/user.py", line 54, in post_user_info_checker
        _check_update_fight(ki_user)
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/logics/handlers/user.py", line 134, in _check_update_fight
        fight = hero_helper.count_array_fight(hero_id, ki_user)
      File "/Users/jiank/work/kimech/server/apps/logics/helpers/hero_helper.py", line 61, in count_array_fight
        fates = hero_helper.build_hero_fates(hero_id, user.hero.heros, equips)
    NameError: global name 'hero_helper' is not defined
[32m[I 160521 15:05:17 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/hero_helper.py modified; restarting server
[31m[E 160521 15:05:44 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '23', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463814331|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgxNDMzMSZ0b2tlbj04NDUwNWM0MmNlOTRiZjcyMTIwOWFhNDI2ZDE5YTQ5NA==|2c7e41e4317f107bf76a04adedd17d3a678d6844d686a2440f01116f95a02758"; expires=Mon, 20 Jun 2016 07:05:31 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 128, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 125, in process
        post_func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/handlers/user.py", line 54, in post_user_info_checker
        _check_update_fight(ki_user)
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/logics/handlers/user.py", line 135, in _check_update_fight
        hero["fight"] = fight
    NameError: global name 'hero' is not defined
[31m[E 160521 15:06:44 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '23', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463814331|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgxNDMzMSZ0b2tlbj04NDUwNWM0MmNlOTRiZjcyMTIwOWFhNDI2ZDE5YTQ5NA==|2c7e41e4317f107bf76a04adedd17d3a678d6844d686a2440f01116f95a02758"; expires=Mon, 20 Jun 2016 07:05:31 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 128, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 125, in process
        post_func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/handlers/user.py", line 54, in post_user_info_checker
        _check_update_fight(ki_user)
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/logics/handlers/user.py", line 135, in _check_update_fight
        hero["fight"] = fight
    NameError: global name 'hero' is not defined
[32m[I 160521 15:07:19 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[31m[E 160521 15:07:44 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '23', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463814331|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgxNDMzMSZ0b2tlbj04NDUwNWM0MmNlOTRiZjcyMTIwOWFhNDI2ZDE5YTQ5NA==|2c7e41e4317f107bf76a04adedd17d3a678d6844d686a2440f01116f95a02758"; expires=Mon, 20 Jun 2016 07:05:31 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 128, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 125, in process
        post_func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/handlers/user.py", line 54, in post_user_info_checker
        _check_update_fight(ki_user)
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/logics/handlers/user.py", line 144, in _check_update_fight
        ki_user.game_info.update_fight(array_fight) # 更新副本阵容战力
      File "/Users/jiank/work/kimech/server/apps/models/game_info.py", line 281, in update_fight
        self.game_info.fight = fight
    AttributeError: 'GameInfo' object has no attribute 'game_info'
[31m[E 160521 15:08:44 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '23', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463814331|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgxNDMzMSZ0b2tlbj04NDUwNWM0MmNlOTRiZjcyMTIwOWFhNDI2ZDE5YTQ5NA==|2c7e41e4317f107bf76a04adedd17d3a678d6844d686a2440f01116f95a02758"; expires=Mon, 20 Jun 2016 07:05:31 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 128, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 125, in process
        post_func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/handlers/user.py", line 54, in post_user_info_checker
        _check_update_fight(ki_user)
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/logics/handlers/user.py", line 144, in _check_update_fight
        ki_user.game_info.update_fight(array_fight) # 更新副本阵容战力
      File "/Users/jiank/work/kimech/server/apps/models/game_info.py", line 281, in update_fight
        self.game_info.fight = fight
    AttributeError: 'GameInfo' object has no attribute 'game_info'
[32m[I 160521 15:09:05 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 15:09:13 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[31m[E 160521 15:09:45 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '23', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463814331|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgxNDMzMSZ0b2tlbj04NDUwNWM0MmNlOTRiZjcyMTIwOWFhNDI2ZDE5YTQ5NA==|2c7e41e4317f107bf76a04adedd17d3a678d6844d686a2440f01116f95a02758"; expires=Mon, 20 Jun 2016 07:05:31 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 128, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 125, in process
        post_func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/handlers/user.py", line 54, in post_user_info_checker
        _check_update_fight(ki_user)
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/logics/handlers/user.py", line 142, in _check_update_fight
        ki_user.hero.update_fight(hero_fights) # 更新副本+竞技场战斗力
    AttributeError: 'Hero' object has no attribute 'update_fight'
[32m[I 160521 15:10:34 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/hero.py modified; restarting server
[32m[I 160521 15:11:06 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[31m[E 160521 15:12:48 web:1498](B[m Uncaught exception POST /game/login (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/login', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '103', 'Host': '192.168.1.103:8000', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 119, in post
        self.interal_error_handle(e)
      File "/Users/jiank/work/kimech/server/apps/handlers/base.py", line 24, in interal_error_handle
        raise error
    TypeError: 'int' object does not support item assignment
[31m[E 160521 15:12:54 web:1498](B[m Uncaught exception POST /game/login (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/login', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '103', 'Host': '192.168.1.103:8000', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 119, in post
        self.interal_error_handle(e)
      File "/Users/jiank/work/kimech/server/apps/handlers/base.py", line 24, in interal_error_handle
        raise error
    TypeError: 'int' object does not support item assignment
[32m[I 160521 15:13:12 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/handlers/game.py modified; restarting server
[31m[E 160521 15:13:13 web:1498](B[m Uncaught exception POST /game/login (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/login', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '103', 'Host': '192.168.1.103:8000', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 114, in post
        msg["data"]["user_data"] = fetch_user_data(ki_user)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 161, in fetch_user_data
        user_data["hero"]["heros"] = user_helper.build_hero_euqip_skill(ki_user)  # 把技能和装备 装配到机甲上。
      File "/Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py", line 33, in build_hero_euqip_skill
        hero_data["equips"] = equip_datas.get(hero_id, {})
    TypeError: 'int' object does not support item assignment
[32m[I 160521 15:14:53 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[31m[E 160521 15:14:55 web:1498](B[m Uncaught exception POST /game/login (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/login', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '103', 'Host': '192.168.1.103:8000', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 114, in post
        msg["data"]["user_data"] = fetch_user_data(ki_user)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 161, in fetch_user_data
        user_data["hero"]["heros"] = user_helper.build_hero_euqip_skill(ki_user)  # 把技能和装备 装配到机甲上。
      File "/Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py", line 33, in build_hero_euqip_skill
        hero_data["equips"] = equip_datas.get(hero_id, {})
    TypeError: 'int' object does not support item assignment
[32m[I 160521 15:15:18 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[31m[E 160521 15:15:19 web:1498](B[m Uncaught exception POST /game/login (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/login', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '103', 'Host': '192.168.1.103:8000', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 114, in post
        msg["data"]["user_data"] = fetch_user_data(ki_user)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 161, in fetch_user_data
        user_data["hero"]["heros"] = user_helper.build_hero_euqip_skill(ki_user)  # 把技能和装备 装配到机甲上。
      File "/Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py", line 34, in build_hero_euqip_skill
        hero_data["equips"] = equip_datas.get(hero_id, {})
    TypeError: 'int' object does not support item assignment
[32m[I 160521 15:15:32 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[31m[E 160521 15:15:34 web:1498](B[m Uncaught exception POST /game/login (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/login', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '103', 'Host': '192.168.1.103:8000', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 114, in post
        msg["data"]["user_data"] = fetch_user_data(ki_user)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 161, in fetch_user_data
        user_data["hero"]["heros"] = user_helper.build_hero_euqip_skill(ki_user)  # 把技能和装备 装配到机甲上。
      File "/Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py", line 34, in build_hero_euqip_skill
        hero_data["equips"] = equip_datas.get(hero_id, {})
    TypeError: 'int' object does not support item assignment
[32m[I 160521 15:16:08 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/hero.py modified; restarting server
[32m[I 160521 15:16:13 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 15:16:36 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[31m[E 160521 15:16:37 web:1498](B[m Uncaught exception POST /game/login (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/login', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '103', 'Host': '192.168.1.103:8000', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 114, in post
        msg["data"]["user_data"] = fetch_user_data(ki_user)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 161, in fetch_user_data
        user_data["hero"]["heros"] = user_helper.build_hero_euqip_skill(ki_user)  # 把技能和装备 装配到机甲上。
      File "/Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py", line 26, in build_hero_euqip_skill
        del user.hero["fight"]
    TypeError: 'Hero' object does not support item deletion
[32m[I 160521 15:16:47 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[31m[E 160521 15:16:48 web:1498](B[m Uncaught exception POST /game/login (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/login', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '103', 'Host': '192.168.1.103:8000', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 114, in post
        msg["data"]["user_data"] = fetch_user_data(ki_user)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 161, in fetch_user_data
        user_data["hero"]["heros"] = user_helper.build_hero_euqip_skill(ki_user)  # 把技能和装备 装配到机甲上。
      File "/Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py", line 33, in build_hero_euqip_skill
        hero_data["equips"] = equip_datas.get(hero_id, {})
    TypeError: 'int' object does not support item assignment
[32m[I 160521 15:16:58 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 15:17:15 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 15:17:17 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[31m[E 160521 15:17:18 web:1498](B[m Uncaught exception POST /game/login (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/login', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '103', 'Host': '192.168.1.103:8000', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 114, in post
        msg["data"]["user_data"] = fetch_user_data(ki_user)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 161, in fetch_user_data
        user_data["hero"]["heros"] = user_helper.build_hero_euqip_skill(ki_user)  # 把技能和装备 装配到机甲上。
      File "/Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py", line 35, in build_hero_euqip_skill
        hero_data["equips"] = equip_datas.get(hero_id, {})
    TypeError: 'int' object does not support item assignment
[32m[I 160521 15:17:38 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 15:17:40 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[31m[E 160521 15:17:41 web:1498](B[m Uncaught exception POST /game/login (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/login', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '103', 'Host': '192.168.1.103:8000', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 114, in post
        msg["data"]["user_data"] = fetch_user_data(ki_user)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 161, in fetch_user_data
        user_data["hero"]["heros"] = user_helper.build_hero_euqip_skill(ki_user)  # 把技能和装备 装配到机甲上。
      File "/Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py", line 36, in build_hero_euqip_skill
        hero_data["equips"] = equip_datas.get(hero_id, {})
    TypeError: 'int' object does not support item assignment
[32m[I 160521 15:17:56 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[31m[E 160521 15:17:57 web:1498](B[m Uncaught exception POST /game/login (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/login', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '103', 'Host': '192.168.1.103:8000', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 114, in post
        msg["data"]["user_data"] = fetch_user_data(ki_user)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 161, in fetch_user_data
        user_data["hero"]["heros"] = user_helper.build_hero_euqip_skill(ki_user)  # 把技能和装备 装配到机甲上。
      File "/Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py", line 31, in build_hero_euqip_skill
        del user.hero.heros["fight"]
    KeyError: 'fight'
[32m[I 160521 15:18:04 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 15:18:09 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 15:20:29 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 15:20:31 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 15:20:33 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 15:21:37 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/mission.py modified; restarting server
[32m[I 160521 15:22:22 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/misc/global_info.py modified; restarting server
[32m[I 160521 15:22:26 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/misc/global_info.py modified; restarting server
[32m[I 160521 15:22:41 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/misc/auth_utils.py modified; restarting server
[32m[I 160521 15:22:44 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/misc/auth_utils.py modified; restarting server
[32m[I 160521 15:23:16 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/user.py modified; restarting server
[32m[I 160521 15:23:20 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/user.py modified; restarting server
[31m[E 160521 15:23:25 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '132', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463815085|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgxNTA4NSZ0b2tlbj0zNDc1YWM4ZmZmMWRiYjBjYTkwZGRlNzdlZTY5Yjg5ZA==|cc3f43cd635cb0d14d68884e63614f7b478d97e176e6e47cd4b1c29450ae8a1d"; expires=Mon, 20 Jun 2016 07:18:05 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 128, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 114, in process
        func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/mission.py", line 90, in enter
        if not user_helper.check_user_fight(ki_user, fight):
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py", line 125, in check_user_fight
        
    KeyError: 100001
[32m[I 160521 15:24:26 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 15:25:43 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/mission.py modified; restarting server
[32m[I 160521 15:32:18 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/array.py modified; restarting server
[32m[I 160521 15:36:09 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 15:36:40 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 15:36:42 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 15:45:15 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 15:45:31 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 15:45:34 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 15:51:01 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 15:52:45 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 15:52:57 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 15:53:16 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 15:53:17 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 15:53:23 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[31m[E 160521 15:53:32 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '132', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463815085|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgxNTA4NSZ0b2tlbj0zNDc1YWM4ZmZmMWRiYjBjYTkwZGRlNzdlZTY5Yjg5ZA==|cc3f43cd635cb0d14d68884e63614f7b478d97e176e6e47cd4b1c29450ae8a1d"; expires=Mon, 20 Jun 2016 07:18:05 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 128, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 114, in process
        func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/mission.py", line 90, in enter
        if (mission_id not in ki_user.mission.missions) and (not user_helper.check_user_fight(ki_user, fight)):
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py", line 121, in check_user_fight
        total_array_fight = sum(array_fight.values())
    UnboundLocalError: local variable 'array_fight' referenced before assignment
[32m[I 160521 15:53:46 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 15:54:07 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[31m[E 160521 15:54:10 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '132', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463815085|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgxNTA4NSZ0b2tlbj0zNDc1YWM4ZmZmMWRiYjBjYTkwZGRlNzdlZTY5Yjg5ZA==|cc3f43cd635cb0d14d68884e63614f7b478d97e176e6e47cd4b1c29450ae8a1d"; expires=Mon, 20 Jun 2016 07:18:05 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 128, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 114, in process
        func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/mission.py", line 90, in enter
        if (mission_id not in ki_user.mission.missions) and (not user_helper.check_user_fight(ki_user, fight)):
      File "/Users/jiank/work/kimech/server/apps/misc/utils.py", line 26, in _wrapper
        result = fn(*args, **kwargs)
      File "/Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py", line 138, in check_user_fight
        ki_user.array.update_fight(atype, total_array_fight)
      File "/Users/jiank/work/kimech/server/apps/models/array.py", line 164, in update_fight
        exec("self.%s_fight = %s" % (MAPPING[atype], fight))
    NameError: name 'MAPPING' is not defined
[32m[I 160521 15:54:29 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/array.py modified; restarting server
[32m[I 160521 15:57:00 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 15:57:12 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 15:57:34 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 15:57:42 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 16:04:45 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 16:08:31 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/user_helper.py modified; restarting server
[32m[I 160521 16:10:29 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 16:11:14 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 16:11:20 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 16:11:42 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 16:12:00 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 16:12:31 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160521 16:12:40 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[31m[E 160521 16:22:46 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '77', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463815085|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgxNTA4NSZ0b2tlbj0zNDc1YWM4ZmZmMWRiYjBjYTkwZGRlNzdlZTY5Yjg5ZA==|cc3f43cd635cb0d14d68884e63614f7b478d97e176e6e47cd4b1c29450ae8a1d"; expires=Mon, 20 Jun 2016 07:18:05 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 127, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 113, in process
        func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/array.py", line 63, in update
        ki_user.array.update(atype, array)
      File "/Users/jiank/work/kimech/server/apps/models/array.py", line 98, in update
        exec("self.% = %s" % (self.MAPPING[atype], array))
    ValueError: unsupported format character '=' (0x3d) at index 7
[32m[I 160521 16:23:03 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/array.py modified; restarting server
[32m[I 160521 16:24:00 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/handlers/game.py modified; restarting server
[31m[E 160521 16:24:35 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '77', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463819051|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgxOTA1MSZ0b2tlbj05MzNjNjJiMzI5YzY3MzFhNThhMmM1MTlmNGMxZmIzMA==|68054229c199f78a5f8558914b197c66a6ffb79ea43ec44a57a92fb4995dbd1b"; expires=Mon, 20 Jun 2016 08:24:11 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 128, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 113, in process
        func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/array.py", line 63, in update
        ki_user.array.update(atype, array)
      File "/Users/jiank/work/kimech/server/apps/models/array.py", line 101, in update
        exec("self.% = %s" % (self.MAPPING[atype], array))
    ValueError: unsupported format character '=' (0x3d) at index 7
[32m[I 160521 16:25:08 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/array.py modified; restarting server
[31m[E 160521 16:25:37 web:1498](B[m Uncaught exception POST /game/api (192.168.1.122)
    HttpRequest(protocol='http', host='192.168.1.103:8000', method='POST', uri='/game/api', version='HTTP/1.1', remote_ip='192.168.1.122', headers={'Content-Length': '77', 'Host': '192.168.1.103:8000', 'Cookie': 'user_cookie_chain="2|1:0|10:1463819119|17:user_cookie_chain|132:YWlkPTA1MjExMTA2MzE4ODYmdWlkPTExMDAwMDUyOCZwZj1ERVYmc2lkPTEmdHM9MTQ2MzgxOTExOSZ0b2tlbj03NzBkZGVhMTdhYTRlOTM2MjRhNjMyNGMxMjFiMWE2Ng==|e4f2531e69960c1d223ea7545e1f9d386d574db00f1c3ef1abf2dca7deadaf5b"; expires=Mon, 20 Jun 2016 08:25:19 GMT; Path=/', 'Accept-Encoding': 'identity', 'Content-Type': 'application/x-www-form-urlencoded', 'Connection': 'Keep-Alive', 'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 5.0.2; Redmi Note 3 MIUI/V7.1.6.0.LHNCNCK)'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 128, in post
        result = gateway.process(request_context)
      File "/Users/jiank/work/kimech/server/libs/rklib/web/logic.py", line 113, in process
        func(reuqest_ctx)
      File "/Users/jiank/work/kimech/server/apps/logics/array.py", line 63, in update
        ki_user.array.update(atype, array)
      File "/Users/jiank/work/kimech/server/apps/models/array.py", line 101, in update
        exec("self.% = %s" % (self.MAPPING[atype], array))
    ValueError: unsupported format character '=' (0x3d) at index 7
[32m[I 160521 16:26:58 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/array.py modified; restarting server
[32m[I 160523 15:59:37 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/handlers/game.py modified; restarting server
[32m[I 160523 16:04:25 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160523 16:04:28 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160523 16:05:37 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160523 16:06:56 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/fight_helper.py modified; restarting server
[32m[I 160523 16:07:05 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/fight_helper.py modified; restarting server
[32m[I 160523 16:12:11 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/fight_helper.py modified; restarting server
[32m[I 160523 16:12:25 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/fight_helper.py modified; restarting server
[32m[I 160523 16:14:01 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/fight_helper.py modified; restarting server
[32m[I 160523 16:24:09 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/configs/game_config/__init__.py modified; restarting server
[32m[I 160523 16:24:22 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/fight_helper.py modified; restarting server
[32m[I 160523 16:24:57 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/helpers/fight_helper.py modified; restarting server
[32m[I 160523 16:25:05 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[32m[I 160523 16:25:11 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/logics/handlers/user.py modified; restarting server
[33m[W 160523 16:25:24 web:1495](B[m 404 GET /activity/main (127.0.0.1): not found
[32m[I 160523 16:33:31 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/handlers/game.py modified; restarting server
[32m[I 160523 16:33:32 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/handlers/game.py modified; restarting server
[32m[I 160523 16:33:39 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/handlers/game.py modified; restarting server
[32m[I 160523 17:13:46 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/user.py modified; restarting server
[32m[I 160523 17:17:45 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/user.py modified; restarting server
[32m[I 160523 17:21:09 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/user.py modified; restarting server
[32m[I 160523 17:35:14 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/user.py modified; restarting server
[32m[I 160523 17:36:08 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/user.py modified; restarting server
[32m[I 160523 17:37:08 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/user.py modified; restarting server
[32m[I 160523 17:51:07 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/handlers/game.py modified; restarting server
[31m[E 160523 17:52:14 web:1498](B[m Uncaught exception POST /game/login (192.168.1.114)
    HttpRequest(protocol='http', host='192.168.1.110:8000', method='POST', uri='/game/login', version='HTTP/1.1', remote_ip='192.168.1.114', headers={'Content-Length': '103', 'Accept-Language': 'zh-cn', 'Accept-Encoding': 'gzip, deflate', 'Host': '192.168.1.110:8000', 'Accept': '*/*', 'User-Agent': 'transformer%20Mac/1 CFNetwork/760.4.2 Darwin/15.4.0 (x86_64)', 'Connection': 'keep-alive', 'Cookie': 'user_cookie_chain="2|1:0|10:1463997077|17:user_cookie_chain|132:YWlkPTA1MjMxNzUwMzM1MzQmdWlkPTExMDAwNzQ1OCZwZj1ERVYmc2lkPTEmdHM9MTQ2Mzk5NzA3NyZ0b2tlbj1hMzgzMDA5MDI0ZDJlZDEyNTRjZDUxZTdhNjMwMzc1Mg==|965420cf10af22366882f90fa9c2e831b1a3bc36c0f8e402712b5c3366186654"', 'Content-Type': 'application/x-www-form-urlencoded'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 73, in post
        ki_user = User.install(user_login_data)
      File "/Users/jiank/work/kimech/server/apps/models/user.py", line 426, in install
        ki_user.install_default_datas()
      File "/Users/jiank/work/kimech/server/apps/models/user.py", line 582, in install_default_datas
        order_awards_cfg = game_config.gift_key_config("YY02", {})
    TypeError: 'dict' object is not callable
[32m[I 160523 17:52:46 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/user.py modified; restarting server
[32m[I 160523 17:53:38 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/user.py modified; restarting server
[32m[I 160523 17:54:03 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/pregift.py modified; restarting server
[32m[I 160523 17:56:48 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/pregift.py modified; restarting server
[32m[I 160523 17:57:48 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/pregift.py modified; restarting server
[32m[I 160523 17:57:57 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/pregift.py modified; restarting server
[32m[I 160523 17:58:49 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/pregift.py modified; restarting server
[32m[I 160523 17:59:10 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/pregift.py modified; restarting server
[32m[I 160523 17:59:28 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/pregift.py modified; restarting server
[32m[I 160523 17:59:43 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/pregift.py modified; restarting server
[32m[I 160523 17:59:52 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/pregift.py modified; restarting server
[32m[I 160523 18:00:01 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/pregift.py modified; restarting server
[31m[E 160523 18:00:29 web:1498](B[m Uncaught exception POST /game/login (192.168.1.114)
    HttpRequest(protocol='http', host='192.168.1.110:8000', method='POST', uri='/game/login', version='HTTP/1.1', remote_ip='192.168.1.114', headers={'Content-Length': '103', 'Accept-Language': 'zh-cn', 'Accept-Encoding': 'gzip, deflate', 'Host': '192.168.1.110:8000', 'Accept': '*/*', 'User-Agent': 'transformer%20Mac/1 CFNetwork/760.4.2 Darwin/15.4.0 (x86_64)', 'Connection': 'keep-alive', 'Cookie': 'user_cookie_chain="2|1:0|10:1463997441|17:user_cookie_chain|132:YWlkPTA1MjMxNzU3MjAzNDUmdWlkPTExMDAwNzQ2MiZwZj1ERVYmc2lkPTEmdHM9MTQ2Mzk5NzQ0MSZ0b2tlbj1lMGU3YzNkNGE0NjkzODAzN2YzMDc3N2FlNjQ5N2YxZQ==|94f17594b166929db2695db174898663424ba6979e0fb217bab16c2c7734bc36"', 'Content-Type': 'application/x-www-form-urlencoded'})
    Traceback (most recent call last):
      File "/Library/Python/2.7/site-packages/tornado-4.2-py2.7-macosx-10.11-intel.egg/tornado/web.py", line 1415, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/jiank/work/kimech/server/apps/handlers/game.py", line 73, in post
        ki_user = User.install(user_login_data)
      File "/Users/jiank/work/kimech/server/apps/models/user.py", line 426, in install
        ki_user.install_default_datas()
      File "/Users/jiank/work/kimech/server/apps/models/user.py", line 596, in install_default_datas
        awards1,days = pregift_service.uc_qihoo_test_award_4004(2, "UC", "1d806775cc1a66dac40f1e384df8a233")
      File "/Users/jiank/work/kimech/server/apps/services/pregift.py", line 83, in uc_qihoo_test_award_4004
        print i > tmp1, int(level) >= cfg["cond_a"]
    NameError: global name 'level' is not defined
[32m[I 160523 18:00:49 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/pregift.py modified; restarting server
[32m[I 160523 18:04:09 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/pregift.py modified; restarting server
[32m[I 160523 18:04:39 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/user.py modified; restarting server
[32m[I 160523 18:04:58 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/user.py modified; restarting server
[32m[I 160523 18:05:04 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/user.py modified; restarting server
[32m[I 160523 18:05:11 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/user.py modified; restarting server
[32m[I 160523 18:08:25 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/pregift.py modified; restarting server
[32m[I 160523 18:13:50 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/pregift.py modified; restarting server
[32m[I 160523 18:13:54 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/services/pregift.py modified; restarting server
[32m[I 160523 18:14:21 autoreload:204](B[m /Users/jiank/work/kimech/server/apps/models/user.py modified; restarting server
